#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
ูุงู ูพุฑ ฺฉุฑุฏู ุฏุชุงุจุณ ุจุง ุงุทูุงุนุงุช ฺฉุงูู - ูุณุฎู ุณุงุฏู
"""

import os
import sys
import logging
from datetime import datetime, timedelta
import psycopg2
from dotenv import load_dotenv

# Load environment variables
load_dotenv()

# ุชูุธู logging
logging.basicConfig(level=logging.INFO, format='%(asctime)s - %(levelname)s - %(message)s')
logger = logging.getLogger(__name__)

def get_db_connection():
    """ุฏุฑุงูุช ุงุชุตุงู ุจู ุฏุชุงุจุณ"""
    database_url = os.getenv('DATABASE_URL')
    if not database_url:
        raise Exception("DATABASE_URL not found in environment variables")
    
    return psycopg2.connect(database_url)

def confirm_reset():
    """ุชุงุฏ ูพุงฺฉ ฺฉุฑุฏู ุฏุงุฏูโูุง"""
    print("\n" + "="*60)
    print("๐จ ูุดุฏุงุฑ: ูพุงฺฉ ฺฉุฑุฏู ุฏุงุฏูโูุง ููุฌูุฏ")
    print("="*60)
    print("ุงู ุนูู ุชูุงู ุฏุงุฏูโูุง ููุฌูุฏ ุฑุง ูพุงฺฉ ูโฺฉูุฏ.")
    print("ุขุง ูุทูุฆู ูุณุชุฏุ (y/N): ", end="")
    
    response = input().lower().strip()
    return response in ['y', 'yes', 'ุจูู']

def clear_data():
    """ูพุงฺฉ ฺฉุฑุฏู ุฏุงุฏูโูุง ููุฌูุฏ"""
    logger.info("ูพุงฺฉ ฺฉุฑุฏู ุฏุงุฏูโูุง ููุฌูุฏ...")
    
    conn = get_db_connection()
    try:
        with conn.cursor() as cursor:
            # ุญุฐู ุจู ุชุฑุชุจ ูุงุจุณุชฺฏ
            cursor.execute("DELETE FROM product_media")
            cursor.execute("DELETE FROM service_media") 
            cursor.execute("DELETE FROM educational_media")
            cursor.execute("DELETE FROM inquiries")
            cursor.execute("DELETE FROM products")
            cursor.execute("DELETE FROM services")
            cursor.execute("DELETE FROM educational_content")
            cursor.execute("DELETE FROM product_categories")
            cursor.execute("DELETE FROM service_categories")
            cursor.execute("DELETE FROM educational_categories")
        conn.commit()
        logger.info("โ ุฏุงุฏูโูุง ูพุงฺฉ ุดุฏูุฏ")
    finally:
        conn.close()

def seed_categories():
    """ุงุฌุงุฏ ุฏุณุชูโุจูุฏโูุง"""
    logger.info("ุงุฌุงุฏ ุฏุณุชูโุจูุฏโูุง...")
    
    conn = get_db_connection()
    try:
        with conn.cursor() as cursor:
            # ุฏุณุชูโุจูุฏ ูุญุตููุงุช
            product_cats = ["ุงุณููุณฺฉููพ", "ุงุณูพฺฉุชุฑูู ุขูุงูุงุฒุฑ", "ุณฺฏูุงู ฺูุฑุงุชูุฑ", "ูุชูุฑฺฉ ุขูุงูุงุฒุฑ", "ูพุงูุฑ ูุชุฑ", "ุฑุงุฏูุชุณุชุฑ", "ูุฑฺฉุงูุณ ูุชุฑ", "ุณุงุช ูุณุชุฑ"]
            for cat in product_cats:
                cursor.execute("INSERT INTO product_categories (name) VALUES (%s)", (cat,))
            
            # ุฏุณุชูโุจูุฏ ุฎุฏูุงุช  
            service_cats = ["ฺฉุงูุจุฑุงุณูู", "ุชุนูุฑุงุช", "ูุดุงูุฑู ูู", "ุขููุฒุด"]
            for cat in service_cats:
                cursor.execute("INSERT INTO service_categories (name) VALUES (%s)", (cat,))
            
            # ุฏุณุชูโุจูุฏ ุขููุฒุด
            edu_cats = ["ูุจุงู ุงูุฏุงุฒูโฺฏุฑ", "ฺฉุงุฑ ุจุง ุฏุณุชฺฏุงูโูุง", "ฺฉุงูุจุฑุงุณูู", "ุชุนูุฑุงุช"]
            for cat in edu_cats:
                cursor.execute("INSERT INTO educational_categories (name) VALUES (%s)", (cat,))
        
        conn.commit()
        logger.info("โ ุฏุณุชูโุจูุฏโูุง ุงุฌุงุฏ ุดุฏูุฏ")
    finally:
        conn.close()

def seed_products():
    """ุงุฌุงุฏ ูุญุตููุงุช"""
    logger.info("ุงุฌุงุฏ ูุญุตููุงุช...")
    
    products = [
        # ุงุณููุณฺฉููพโูุง
        ("ุงุณููุณฺฉููพ ุฏุฌุชุงู Keysight DSOX3024T", "ุงุณููุณฺฉููพ ุฏุฌุชุงู 4 ฺฉุงูุงูู 200MHz ุจุง ุตูุญู ููุงุด ููุณ", 850000000, "DSOX3024T", "Keysight", True, True, "4-channel,200MHz,touchscreen", "ุงุณููุณฺฉููพ"),
        ("ุงุณููุณฺฉููพ ุขูุงููฺฏ Tektronix 2465B", "ุงุณููุณฺฉููพ ุขูุงููฺฏ 4 ฺฉุงูุงูู 400MHz ฺฉูุงุณฺฉ", 125000000, "2465B", "Tektronix", True, False, "analog,4-channel,400MHz", "ุงุณููุณฺฉููพ"),
        ("ุงุณููุณฺฉููพ USB Hantek DSO2C10", "ุงุณููุณฺฉููพ USB ุฏู ฺฉุงูุงูู 100MHz ุจุง ูุฑูโุงูุฒุงุฑ Windows", 15000000, "DSO2C10", "Hantek", True, False, "USB,2-channel,100MHz", "ุงุณููุณฺฉููพ"),
        
        # ุงุณูพฺฉุชุฑูู ุขูุงูุงุฒุฑูุง
        ("ุงุณูพฺฉุชุฑูู ุขูุงูุงุฒุฑ Keysight N9020A", "ุงุณูพฺฉุชุฑูู ุขูุงูุงุฒุฑ 10Hz ุชุง 26.5GHz ุจุง ููุฒ ูุงุฒ ูพุงู", 2500000000, "N9020A", "Keysight", True, True, "26.5GHz,low-phase-noise", "ุงุณูพฺฉุชุฑูู ุขูุงูุงุฒุฑ"),
        ("ุงุณูพฺฉุชุฑูู ุขูุงูุงุฒุฑ Rigol DSA832", "ุงุณูพฺฉุชุฑูู ุขูุงูุงุฒุฑ 9kHz ุชุง 3.2GHz ุงูุชุตุงุฏ", 180000000, "DSA832", "Rigol", True, False, "3.2GHz,economical", "ุงุณูพฺฉุชุฑูู ุขูุงูุงุฒุฑ"),
        
        # ุณฺฏูุงู ฺูุฑุงุชูุฑูุง
        ("ุณฺฏูุงู ฺูุฑุงุชูุฑ Keysight E8257D", "ุณฺฏูุงู ฺูุฑุงุชูุฑ ูุงฺฉุฑููู 100kHz ุชุง 67GHz", 4200000000, "E8257D", "Keysight", False, True, "67GHz,microwave", "ุณฺฏูุงู ฺูุฑุงุชูุฑ"),
        ("ูุงูฺฉุดู ฺูุฑุงุชูุฑ Rigol DG4062", "ูุงูฺฉุดู ฺูุฑุงุชูุฑ ุฏู ฺฉุงูุงูู 60MHz", 95000000, "DG4062", "Rigol", True, False, "dual-channel,60MHz", "ุณฺฏูุงู ฺูุฑุงุชูุฑ"),
        
        # ูุชูุฑฺฉ ุขูุงูุงุฒุฑูุง
        ("ูุชูุฑฺฉ ุขูุงูุงุฒุฑ Keysight E5071C", "ูุชูุฑฺฉ ุขูุงูุงุฒุฑ 300kHz ุชุง 20GHz ฺูุงุฑ ูพูุฑุช", 1800000000, "E5071C", "Keysight", True, True, "20GHz,4-port", "ูุชูุฑฺฉ ุขูุงูุงุฒุฑ"),
        ("ูุชูุฑฺฉ ุขูุงูุงุฒุฑ NanoVNA-H4", "ูุชูุฑฺฉ ุขูุงูุงุฒุฑ ูุงุจู ุญูู 10kHz ุชุง 1.5GHz", 8500000, "NanoVNA-H4", "NanoVNA", True, False, "portable,1.5GHz", "ูุชูุฑฺฉ ุขูุงูุงุฒุฑ"),
        
        # ูพุงูุฑ ูุชุฑูุง
        ("ูพุงูุฑ ูุชุฑ Keysight E4417A", "ูพุงูุฑ ูุชุฑ ุฏู ฺฉุงูุงูู ุจุง ุฏูุช ยฑ0.05dB", 320000000, "E4417A", "Keysight", True, False, "dual-channel,high-accuracy", "ูพุงูุฑ ูุชุฑ"),
        ("ูพุงูุฑ ูุชุฑ USB Mini-Circuits PWR-6GHS+", "ูพุงูุฑ ูุชุฑ USB ฺฉูฺฺฉ 0.5 ุชุง 6000MHz", 45000000, "PWR-6GHS+", "Mini-Circuits", True, False, "USB,6GHz", "ูพุงูุฑ ูุชุฑ"),
        
        # ุฑุงุฏูุชุณุชุฑูุง
        ("ุฑุงุฏูุชุณุชุฑ Aeroflex 3920B", "ุฑุงุฏูุชุณุชุฑ ุฏุฌุชุงู DMR, TETRA, P25", 1200000000, "3920B", "Aeroflex", False, True, "digital,DMR,TETRA", "ุฑุงุฏูุชุณุชุฑ"),
        ("ุฑุงุฏูุชุณุชุฑ IFR 2968", "ุฑุงุฏูุชุณุชุฑ GSM 900/1800MHz ฺฉูุงุณฺฉ", 385000000, "2968", "IFR", True, False, "GSM,900MHz,1800MHz", "ุฑุงุฏูุชุณุชุฑ"),
    ]
    
    conn = get_db_connection()
    try:
        with conn.cursor() as cursor:
            for name, desc, price, model, manufacturer, in_stock, featured, tags, category in products:
                # ุฏุฑุงูุช category_id
                cursor.execute("SELECT id FROM product_categories WHERE name = %s", (category,))
                cat_result = cursor.fetchone()
                if not cat_result:
                    continue
                
                category_id = cat_result[0]
                
                # ุงุฌุงุฏ ูุญุตูู
                cursor.execute("""
                    INSERT INTO products (name, description, price, model, manufacturer, 
                                        in_stock, featured, tags, category_id)
                    VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s)
                    RETURNING id
                """, (name, desc, price, model, manufacturer, in_stock, featured, tags, category_id))
                
                product_id = cursor.fetchone()[0]
                
                # ุงุฌุงุฏ media record (ุจุฏูู ูุงู ูุงูุน)
                cursor.execute("""
                    INSERT INTO product_media (product_id, file_path, media_type, is_main)
                    VALUES (%s, %s, 'image', true)
                """, (product_id, f'/static/uploads/products/product_{product_id}_main.jpg'))
        
        conn.commit()
        logger.info(f"โ {len(products)} ูุญุตูู ุงุฌุงุฏ ุดุฏ")
    finally:
        conn.close()

def seed_services():
    """ุงุฌุงุฏ ุฎุฏูุงุช"""
    logger.info("ุงุฌุงุฏ ุฎุฏูุงุช...")
    
    services = [
        ("ฺฉุงูุจุฑุงุณูู ุงุณููุณฺฉููพ", "ฺฉุงูุจุฑุงุณูู ุฏูู ุงุณููุณฺฉููพโูุง ุขูุงููฺฏ ู ุฏุฌุชุงู", 12000000, "3-5 ุฑูุฒ ฺฉุงุฑ", "ฺฏูุงููุงูู,ุชุณุช ุฏูุช,ุชูุธู", "ฺฉุงูุจุฑุงุณูู"),
        ("ฺฉุงูุจุฑุงุณูู ุงุณูพฺฉุชุฑูู ุขูุงูุงุฒุฑ", "ฺฉุงูุจุฑุงุณูู ุงุณูพฺฉุชุฑูู ุขูุงูุงุฒุฑ ุจุง ุงุณุชุงูุฏุงุฑุฏูุง ูุฑฺฉุงูุณ", 18000000, "5-7 ุฑูุฒ ฺฉุงุฑ", "ฺฉุงูุจุฑุงุณูู ูุฑฺฉุงูุณ,ุฏุงููู,ููุฒ ูุงุฒ", "ฺฉุงูุจุฑุงุณูู"),
        ("ฺฉุงูุจุฑุงุณูู ูพุงูุฑ ูุชุฑ", "ฺฉุงูุจุฑุงุณูู ุฏูู ูพุงูุฑ ูุชุฑ ู ุณูุณูุฑูุง ุชูุงู", 8500000, "2-3 ุฑูุฒ ฺฉุงุฑ", "ฺฉุงูุจุฑุงุณูู ุชูุงู,ุชุณุช ุฎุท", "ฺฉุงูุจุฑุงุณูู"),
        ("ุชุนูุฑ ุงุณููุณฺฉููพ", "ุชุนูุฑ ู ูฺฏูุฏุงุฑ ุงุณููุณฺฉููพโูุง ูุฎุชูู", 25000000, "7-14 ุฑูุฒ ฺฉุงุฑ", "ุนุจโุงุจ,ุชุนูุถ ูุทุนุงุช,ุชูุธู", "ุชุนูุฑุงุช"),
        ("ุชุนูุฑ ุณฺฏูุงู ฺูุฑุงุชูุฑ", "ุชุนูุฑ ุงููุงุน ุณฺฏูุงู ฺูุฑุงุชูุฑ ู ูุงูฺฉุดู ฺูุฑุงุชูุฑ", 32000000, "10-21 ุฑูุฒ ฺฉุงุฑ", "ุชุนูุฑ ูุฏุงุฑ ูุฑฺฉุงูุณ,ุจุงุฒุณุงุฒ", "ุชุนูุฑุงุช"),
        ("ุชุนูุฑ ุฑุงุฏูุชุณุชุฑ", "ุชุนูุฑ ุชุฎุตุต ุฑุงุฏูุชุณุชุฑูุง ูุฎุชูู", 45000000, "14-28 ุฑูุฒ ฺฉุงุฑ", "ุชุนูุฑ ุณุฎุชโุงูุฒุงุฑ,ุขูพุฏุช ูุฑูโุงูุฒุงุฑ", "ุชุนูุฑุงุช"),
        ("ูุดุงูุฑู ุงูุชุฎุงุจ ุชุฌูุฒุงุช", "ูุดุงูุฑู ุชุฎุตุต ุจุฑุง ุงูุชุฎุงุจ ุจูุชุฑู ุชุฌูุฒุงุช", 5000000, "1-2 ุฌูุณู", "ุชุญูู ูุงุฒ,ูพุดููุงุฏ ุชุฌูุฒุงุช", "ูุดุงูุฑู ูู"),
        ("ุทุฑุงุญ ุขุฒูุงุดฺฏุงู ุงูุฏุงุฒูโฺฏุฑ", "ุทุฑุงุญ ู ฺุฏูุงู ุขุฒูุงุดฺฏุงูโูุง ุงูุฏุงุฒูโฺฏุฑ RF", 15000000, "1-2 ููุชู", "ุทุฑุงุญ ูุถุง,ุงูุชุฎุงุจ ุชุฌูุฒุงุช", "ูุดุงูุฑู ูู"),
        ("ุขููุฒุด ฺฉุงุฑ ุจุง ุงุณููุณฺฉููพ", "ุฏูุฑู ุฌุงูุน ุขููุฒุด ฺฉุงุฑ ุจุง ุงุณููุณฺฉููพ", 8000000, "16 ุณุงุนุช", "ุขููุฒุด ุชุฆูุฑ,ฺฉุงุฑฺฏุงู ุนูู,ูุฏุฑฺฉ", "ุขููุฒุด"),
        ("ุขููุฒุด ุงุณูพฺฉุชุฑูู ุขูุงูุงุฒุฑ", "ุขููุฒุด ุชุฎุตุต ฺฉุงุฑ ุจุง ุงุณูพฺฉุชุฑูู ุขูุงูุงุฒุฑ", 12000000, "20 ุณุงุนุช", "ุขููุฒุด ฺฉุงุฑุจุฑุฏ,ุชุญูู ุทู", "ุขููุฒุด"),
    ]
    
    conn = get_db_connection()
    try:
        with conn.cursor() as cursor:
            for name, desc, price, duration, features, category in services:
                # ุฏุฑุงูุช category_id
                cursor.execute("SELECT id FROM service_categories WHERE name = %s", (category,))
                cat_result = cursor.fetchone()
                if not cat_result:
                    continue
                
                category_id = cat_result[0]
                
                # ุงุฌุงุฏ ุฎุฏูุช
                cursor.execute("""
                    INSERT INTO services (name, description, price, duration, features, category_id)
                    VALUES (%s, %s, %s, %s, %s, %s)
                    RETURNING id
                """, (name, desc, price, duration, features, category_id))
                
                service_id = cursor.fetchone()[0]
                
                # ุงุฌุงุฏ media record
                cursor.execute("""
                    INSERT INTO service_media (service_id, file_path, media_type, is_main)
                    VALUES (%s, %s, 'image', true)
                """, (service_id, f'/static/uploads/services/service_{service_id}_main.jpg'))
        
        conn.commit()
        logger.info(f"โ {len(services)} ุฎุฏูุช ุงุฌุงุฏ ุดุฏ")
    finally:
        conn.close()

def seed_educational():
    """ุงุฌุงุฏ ูุญุชูุง ุขููุฒุด"""
    logger.info("ุงุฌุงุฏ ูุญุชูุง ุขููุฒุด...")
    
    educational = [
        ("ููุฏููโุง ุจุฑ ุงูุฏุงุฒูโฺฏุฑ RF", """ุงูุฏุงุฒูโฺฏุฑ ุฏุฑ ุญูุฒู ุฑุงุฏู ูุฑฺฉุงูุณ ฺฉ ุงุฒ ูููโุชุฑู ุจุฎุดโูุง ูููุฏุณ ูุฎุงุจุฑุงุช ุงุณุช.

## ููุงูู ฺฉูุฏ

### ูุฑฺฉุงูุณ
ูุฑฺฉุงูุณ ุชุนุฏุงุฏ ููุณุงูุงุช ุฏุฑ ูุงุญุฏ ุฒูุงู ุงุณุช ฺฉู ุจุฑ ุญุณุจ ูุฑุชุฒ ุงูุฏุงุฒูโฺฏุฑ ูโุดูุฏ.

### ุชูุงู
ุชูุงู ุงูุฑฺ ููุชูู ุดุฏู ุฏุฑ ูุงุญุฏ ุฒูุงู ุงุณุช ฺฉู ูุนูููุงู ุจุฑ ุญุณุจ ูุงุช ุง dBm ุจุงู ูโุดูุฏ.

### ุงููพุฏุงูุณ
ุงููพุฏุงูุณ ููุงููุช ูุฏุงุฑ ุฏุฑ ุจุฑุงุจุฑ ุฌุฑุงู ูุชูุงูุจ ุงุณุช.

## ุชุฌูุฒุงุช ุงุณุงุณ

1. **ุงุณููุณฺฉููพ**: ุจุฑุง ูุดุงูุฏู ุดฺฉู ููุฌ
2. **ุงุณูพฺฉุชุฑูู ุขูุงูุงุฒุฑ**: ุจุฑุง ุชุญูู ุทู ูุฑฺฉุงูุณ
3. **ูพุงูุฑ ูุชุฑ**: ุจุฑุง ุงูุฏุงุฒูโฺฏุฑ ุชูุงู
4. **ูุชูุฑฺฉ ุขูุงูุงุฒุฑ**: ุจุฑุง ุชุญูู ูพุงุฑุงูุชุฑูุง ุดุจฺฉู""", 8, "ูุจุชุฏ", "RF,measurement,basics", "ูุจุงู ุงูุฏุงุฒูโฺฏุฑ"),
        
        ("ุขุดูุง ุจุง ุฏุณุจู ู ูุงุญุฏูุง RF", """ุฏุฑฺฉ ููููู ุฏุณุจู ุจุฑุง ฺฉุงุฑ ุฏุฑ ุญูุฒู RF ุถุฑูุฑ ุงุณุช.

## ููููู ุฏุณุจู

ุฏุณุจู ฺฉ ูุงุญุฏ ูฺฏุงุฑุชู ุงุณุช:
- dB = 20 ร logโโ(Vโ/Vโ) ุจุฑุง ููุชุงฺ  
- dB = 10 ร logโโ(Pโ/Pโ) ุจุฑุง ุชูุงู

## ุงููุงุน ูุงุญุฏูุง dB

### dBm
ุชูุงู ูุณุจุช ุจู 1 ููโูุงุช:
- 0 dBm = 1 mW
- 30 dBm = 1 W
- -30 dBm = 1 ยตW

### dBยตV
ููุชุงฺ ูุณุจุช ุจู 1 ูฺฉุฑูููุช:
- 0 dBยตV = 1 ยตV
- 60 dBยตV = 1 mV

### dBc
ุชูุงู ูุณุจุช ุจู ุณฺฏูุงู ุญุงูู""", 12, "ูุจุชุฏ", "dB,dBm,units,power", "ูุจุงู ุงูุฏุงุฒูโฺฏุฑ"),
        
        ("ุฑุงูููุง ฺฉุงูู ฺฉุงุฑ ุจุง ุงุณููุณฺฉููพ", """ุงุณููุณฺฉููพ ฺฉ ุงุฒ ูููโุชุฑู ุงุจุฒุงุฑูุง ุงูุฏุงุฒูโฺฏุฑ ุงูฺฉุชุฑููฺฉ ุงุณุช.

## ฺฉูุชุฑูโูุง ุงุตู

### ฺฉูุชุฑู ุนููุฏ
- Volts/Div: ุชูุธู ุญุณุงุณุช ุนููุฏ
- Position: ุฌุงุจุฌุง ุนููุฏ ุดฺฉู ููุฌ
- Coupling: ููุน ฺฉููพููฺฏ (AC/DC/GND)

### ฺฉูุชุฑู ุงูู
- Time/Div: ุชูุธู ููุงุณ ุฒูุงู
- Position: ุฌุงุจุฌุง ุงูู ุดฺฉู ููุฌ

### ุชูุธูุงุช Trigger
ุชุฑฺฏุฑ ุชุนู ูโฺฉูุฏ ฺู ุฒูุงู ุงุณููุณฺฉููพ ุดุฑูุน ุจู ููุงุด ฺฉูุฏ.

## ุงูุฏุงุฒูโฺฏุฑโูุง ุงุชููุงุชฺฉ
- ูุฑฺฉุงูุณ
- ุฏูุฑู ุชูุงูุจ  
- ุฏุงููู (Peak-to-Peak)
- RMS
- Rise Time""", 15, "ูุชูุณุท", "oscilloscope,measurement,trigger", "ฺฉุงุฑ ุจุง ุฏุณุชฺฏุงูโูุง"),
        
        ("ฺฉุงุฑ ุจุง ุงุณูพฺฉุชุฑูู ุขูุงูุงุฒุฑ", """ุงุณูพฺฉุชุฑูู ุขูุงูุงุฒุฑ ุงุจุฒุงุฑ ุจุฑุง ุชุญูู ุณฺฏูุงู ุฏุฑ ุญูุฒู ูุฑฺฉุงูุณ ุงุณุช.

## ููุงูู ฺฉูุฏ

- **Span**: ูุญุฏูุฏู ูุฑฺฉุงูุณ ููุงุด
- **RBW**: ูุฏุฑุช ุชูฺฉฺฉ ูุฑฺฉุงูุณ
- **VBW**: ูพููุง ุจุงูุฏ ูุฏุฆู
- **Sweep Time**: ุฒูุงู ุงุณฺฉู ฺฉุงูู

## ฺฉุงุฑุจุฑุฏูุง ูุชุฏุงูู

### ุงูุฏุงุฒูโฺฏุฑ ุชูุงู
ุชูุธู Span ุฑู Zero ู ุฎูุงูุฏู ุงุฒ Marker

### ุชุญูู ูุงุฑูููฺฉ
ุชูุธู Span ฺฏุณุชุฑุฏู ู ุดูุงุณุง ูุฑฺฉุงูุณโูุง ฺูุฏฺฏุงูู

### ุงูุฏุงุฒูโฺฏุฑ ูพููุง ุจุงูุฏ
ุงุณุชูุงุฏู ุงุฒ Marker Delta ู ุฑูุด -3dB

## ูฺฉุงุช ููู
- RBW ฺฉูุชุฑ = ุฏูุช ุจุดุชุฑ ูู ุณุฑุนุช ฺฉูุชุฑ
- ุจุฑุง ุณฺฏูุงูโูุง ูุงูพุงุฏุงุฑ ุงุฒ Max Hold ุงุณุชูุงุฏู ฺฉูุฏ
- ุชููุงุช ฺฉุงุจู ุฑุง ุฏุฑ ูุธุฑ ุจฺฏุฑุฏ""", 18, "ูุชูุณุท", "spectrum-analyzer,frequency-domain,RBW", "ฺฉุงุฑ ุจุง ุฏุณุชฺฏุงูโูุง"),
        
        ("ุงุตูู ฺฉุงูุจุฑุงุณูู ุชุฌูุฒุงุช", """ฺฉุงูุจุฑุงุณูู ูุฑุขูุฏ ุชุงุฏ ุตุญุช ุชุฌูุฒุงุช ุงูุฏุงุฒูโฺฏุฑ ุงุณุช.

## ุชุนุฑู ฺฉุงูุจุฑุงุณูู
ููุงุณู ููุงุฏุฑ ูุดุงู ุฏุงุฏู ุดุฏู ุชูุณุท ุฏุณุชฺฏุงู ุจุง ููุงุฏุฑ ุงุณุชุงูุฏุงุฑุฏ.

## ูุฑุงุญู ฺฉุงูุจุฑุงุณูู

### 1. ุขูุงุฏูโุณุงุฒ
- ุจุฑุฑุณ ุดุฑุงุท ูุญุท (ุฏูุงุ ุฑุทูุจุช)
- ฺฏุฑู ฺฉุฑุฏู ุฏุณุชฺฏุงู
- ุขูุงุฏูโุณุงุฒ ุงุณุชุงูุฏุงุฑุฏูุง ูุฑุฌุน

### 2. ุงูุฌุงู ุชุณุชโูุง
- ุงูุฏุงุฒูโฺฏุฑ ุฏุฑ ููุงุท ูุฎุชูู ูุญุฏูุฏู
- ุซุจุช ูุชุงุฌ ุฏูู
- ูุญุงุณุจู ุฎุทุงูุง

### 3. ฺฏุฒุงุฑุดโููุณ
- ุซุจุช ุชูุงู ุฏุงุฏูโูุง
- ูุญุงุณุจู ุนุฏู ูุทุนุช
- ูุชุฌูโฺฏุฑ ุฏุฑ ููุฑุฏ ูุถุนุช ุฏุณุชฺฏุงู

## ุงุณุชุงูุฏุงุฑุฏูุง ฺฉุงูุจุฑุงุณูู
- Rubidium Standard ุจุฑุง ูุฑฺฉุงูุณ
- Power Reference Source ุจุฑุง ุชูุงู
- Voltage Reference ุจุฑุง ููุชุงฺ

## ุฏูุฑู ฺฉุงูุจุฑุงุณูู
- ุชุฌูุฒุงุช ุญุณุงุณ: 6 ูุงู
- ุชุฌูุฒุงุช ุนููู: 1 ุณุงู  
- ุชุฌูุฒุงุช ูพุงุฏุงุฑ: 2 ุณุงู""", 14, "ูพุดุฑูุชู", "calibration,uncertainty,standards", "ฺฉุงูุจุฑุงุณูู"),
        
        ("ุนุจโุงุจ ุชุฌูุฒุงุช RF", """ุนุจโุงุจ ูุคุซุฑ ุชุฌูุฒุงุช RF ูุงุฒููุฏ ุฑูุด ููุทู ุงุณุช.

## ุฑูฺฉุฑุฏ ุณุณุชูุงุชฺฉ

### 1. ุฌูุนโุขูุฑ ุงุทูุงุนุงุช
- ุดุฑุญ ุฏูู ูุดฺฉู
- ุดุฑุงุท ุจุฑูุฒ ุฎุฑุงุจ
- ุชุงุฑุฎฺู ุชุนูุฑุงุช

### 2. ุจุฑุฑุณ ุธุงูุฑ
- ุจุงุฒุฑุณ ูุฒฺฉ ุฏุณุชฺฏุงู
- ุจุฑุฑุณ ฺฉุงุจูโูุง ู ุงุชุตุงูุงุช
- ฺฉูุชุฑู ููุจุน ุชุบุฐู

### 3. ุชุณุชโูุง ุงููู
- ุจุฑุฑุณ ุนููฺฉุฑุฏ ฺฉู
- ุชุณุช self-test ุฏุณุชฺฏุงู
- ุจุฑุฑุณ ููุงุดฺฏุฑ ู ฺฉูุชุฑูโูุง

## ุงุจุฒุงุฑูุง ุนุจโุงุจ
- ูููุชโูุชุฑ ุฏุฌุชุงู
- ุงุณููุณฺฉููพ
- ูพุงูุฑ ุณุงูพูุง ูุชุบุฑ
- ุณฺฏูุงู ฺูุฑุงุชูุฑ

## ุฎุฑุงุจโูุง ูุชุฏุงูู

### ูุดฺฉูุงุช ููุจุน ุชุบุฐู
ุนูุงุฆู: ุนุฏู ุฑูุดู ุดุฏูุ ุนููฺฉุฑุฏ ูุงูพุงุฏุงุฑ

### ูุดฺฉูุงุช ูุฑฺฉุงูุณ  
ุนูุงุฆู: ุงูุญุฑุงู ูุฑฺฉุงูุณุ ูุงูพุงุฏุงุฑ

### ูุดฺฉูุงุช RF
ุนูุงุฆู: ฺฉุงูุด ุญุณุงุณุชุ ููุฒ ุจุงูุง

## ุชฺฉูฺฉโูุง ุชุณุช
- Signal Injection
- Signal Tracing  
- Substitution Method
- Two-Port Analysis""", 16, "ูพุดุฑูุชู", "troubleshooting,repair,RF", "ุชุนูุฑุงุช"),
    ]
    
    conn = get_db_connection()
    try:
        with conn.cursor() as cursor:
            for title, content, reading_time, difficulty, tags, category in educational:
                # ุฏุฑุงูุช category_id
                cursor.execute("SELECT id FROM educational_categories WHERE name = %s", (category,))
                cat_result = cursor.fetchone()
                if not cat_result:
                    continue
                
                category_id = cat_result[0]
                
                # ุงุฌุงุฏ ูุญุชูุง
                cursor.execute("""
                    INSERT INTO educational_content (title, content, reading_time, difficulty, tags, category_id)
                    VALUES (%s, %s, %s, %s, %s, %s)
                    RETURNING id
                """, (title, content, reading_time, difficulty, tags, category_id))
                
                content_id = cursor.fetchone()[0]
                
                # ุงุฌุงุฏ media record
                cursor.execute("""
                    INSERT INTO educational_media (content_id, file_path, media_type, is_main)
                    VALUES (%s, %s, 'image', true)
                """, (content_id, f'/static/uploads/educational/content_{content_id}_main.jpg'))
        
        conn.commit()
        logger.info(f"โ {len(educational)} ูุญุชูุง ุขููุฒุด ุงุฌุงุฏ ุดุฏ")
    finally:
        conn.close()

def seed_inquiries():
    """ุงุฌุงุฏ ุงุณุชุนูุงูโูุง ููุช"""
    logger.info("ุงุฌุงุฏ ุงุณุชุนูุงูโูุง ููุช...")
    
    inquiries = [
        ("ุงุญูุฏ ุฑุถุง", "09121234567", "ahmad.rezaei@example.com", "ุงุณููุณฺฉููพ ุฏุฌุชุงู 100MHz", "ูุทูุงู ููุช ุงุณููุณฺฉููพ ุฏุฌุชุงู 100MHz ุงุนูุงู ฺฉูุฏ.", "pending", "medium", 1),
        ("ูุงุทูู ุงุญูุฏ", "09123456789", "f.ahmadi@techco.ir", "ุงุณูพฺฉุชุฑูู ุขูุงูุงุฒุฑ ุชุง 6GHz", "ุจุฑุง ุขุฒูุงุดฺฏุงู ุดุฑฺฉุช ูุงุฒ ุจู ุงุณูพฺฉุชุฑูู ุขูุงูุงุฒุฑ ุฏุงุฑู.", "responded", "high", 3),
        ("ูููุฏุณ ุญุณู", "09135678901", "m.hosseini@rflab.com", "ฺฉุงูุจุฑุงุณูู ูพุงูุฑ ูุชุฑ", "ูพุงูุฑ ูุชุฑ HP 437B ูุงุฒ ุจู ฺฉุงูุจุฑุงุณูู ุฏุงุฑุฏ.", "pending", "medium", 2),
        ("ุนู ูุญูุฏ", "09147890123", "ali.mohammadi@gmail.com", "ุฑุงุฏูุชุณุชุฑ IFR", "ุจุฑุง ุชุณุช ุจุณูโูุง ููุชูุฑููุง ุจู ุฑุงุฏูุชุณุชุฑ ูุงุฒ ุฏุงุฑู.", "completed", "low", 7),
        ("ุฏฺฉุชุฑ ุฒุงุฑุน", "09156789012", "d.zarei@university.ac.ir", "ุจุณุชู ุขููุฒุด RF", "ุจุฑุง ุฏุงูุดฺฏุงู ูุงุฒ ุจู ูุฌููุนู ุชุฌูุฒุงุช ุขููุฒุด RF ุฏุงุฑู.", "pending", "high", 1),
        ("ุดุฑฺฉุช ูพุฑุฏุงุฒุด ุณฺฏูุงู", "02133445566", "info@signalprocessing.ir", "ูุชูุฑฺฉ ุขูุงูุงุฒุฑ", "ุจุฑุง ูพุฑูฺู ุชุญููุงุช ูุงุฒ ุจู ูุชูุฑฺฉ ุขูุงูุงุฒุฑ 20GHz ุฏุงุฑู.", "responded", "medium", 5),
        ("ูููุฏุณ ฺฉุฑู", "09167890123", "karimi@radiocom.co.ir", "ุชุนูุฑ ุณฺฏูุงู ฺูุฑุงุชูุฑ HP", "ุณฺฏูุงู ฺูุฑุงุชูุฑ HP 8648C ุฎุฑุงุจ ุฏุฑ ุฎุฑูุฌ ุฏุงุฑุฏ.", "pending", "medium", 4),
        ("ุขุฑุด ููุฑ", "09178901234", "arash.nouri@techstart.ir", "ุงุณููุณฺฉููพ USB", "ุจุฑุง ุงุณุชุงุฑุชุงูพ ูุงุฒ ุจู ุงุณููุณฺฉููพ ุงุฑุฒุงู ููุช ุฏุงุฑู.", "completed", "low", 10),
        ("ูุฑู ุตุงุฏู", "09189012345", "m.sadeghi@researcher.ac.ir", "ูุฑฺฉุงูุณ ฺฉุงูุชุฑ ุฏูู", "ุจุฑุง ูพฺููุด ูุฑฺฉุงูุณ ฺฉุงูุชุฑ ุจุง ุฏูุช ุจุงูุง ูุงุฒ ุฏุงุฑู.", "responded", "high", 2),
        ("ุดุฑฺฉุช ูุฎุงุจุฑุงุช ูพุดุฑู", "02144556677", "procurement@telecom-p.ir", "ูพฺฉุฌ ฺฉุงูู ุขุฒูุงุดฺฏุงู", "ุจุฑุง ุฑุงูโุงูุฏุงุฒ ุขุฒูุงุดฺฏุงู ุฌุฏุฏ ูุงุฒ ุจู ูุฌููุนู ฺฉุงูู ุชุฌูุฒุงุช ุฏุงุฑู.", "pending", "high", 1),
    ]
    
    conn = get_db_connection()
    try:
        with conn.cursor() as cursor:
            for name, phone, email, product_name, message, status, priority, days_ago in inquiries:
                created_at = datetime.now() - timedelta(days=days_ago)
                
                cursor.execute("""
                    INSERT INTO inquiries (name, phone, email, product_name, message, status, priority, created_at)
                    VALUES (%s, %s, %s, %s, %s, %s, %s, %s)
                """, (name, phone, email, product_name, message, status, priority, created_at))
        
        conn.commit()
        logger.info(f"โ {len(inquiries)} ุงุณุชุนูุงู ููุช ุงุฌุงุฏ ุดุฏ")
    finally:
        conn.close()

def main():
    """ุงุฌุฑุง ุงุตู"""
    print("๐ ุดุฑูุน ูพุฑ ฺฉุฑุฏู ุฏุชุงุจุณ ุจุง ุงุทูุงุนุงุช ฺฉุงูู...")
    
    if not confirm_reset():
        print("โ ุนููุงุช ูุบู ุดุฏ.")
        return
    
    try:
        clear_data()
        seed_categories()
        seed_products()
        seed_services()
        seed_educational()
        seed_inquiries()
        
        print("\n" + "="*60)
        print("๐ ุฏุชุงุจุณ ุจุง ููููุช ูพุฑ ุดุฏ!")
        print("="*60)
        print("โ 16 ุฏุณุชูโุจูุฏ")
        print("โ 13 ูุญุตูู")
        print("โ 10 ุฎุฏูุช")
        print("โ 6 ูุทูุจ ุขููุฒุด")
        print("โ 10 ุงุณุชุนูุงู ููุช")
        print("\n๐ก ุญุงูุง ูโุชูุงูุฏ ุงุฒ ุณุงุช ู ุจุงุช ุงุณุชูุงุฏู ฺฉูุฏ!")
        
    except Exception as e:
        logger.error(f"ุฎุทุง: {e}")
        print(f"โ ุฎุทุง: {e}")

if __name__ == "__main__":
    main()